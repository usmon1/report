<!DOCTYPE html>
<html>
<head>
    <title>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f5f5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .header h1 {
            margin: 0;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            color: white;
            font-size: 0.9em;
            transition: background 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .btn-primary { background: #007bff; }
        .btn-secondary { background: #6c757d; }
        .btn-danger { background: #dc3545; }
        .btn:hover { opacity: 0.9; }

        .catalogs-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .tab {
            padding: 15px 25px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.95em;
            color: #495057;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab:hover {
            background: #e9ecef;
            color: #007bff;
        }

        .tab.active {
            background: white;
            color: #007bff;
            border-bottom-color: #007bff;
            font-weight: bold;
        }

        .tab-content {
            display: none;
            padding: 25px;
        }

        .tab-content.active {
            display: block;
        }

        .catalog-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .catalog-table th,
        .catalog-table td {
            border: 1px solid #dee2e6;
            padding: 12px 15px;
            text-align: left;
        }

        .catalog-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #495057;
            position: sticky;
            top: 0;
        }

        .catalog-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .catalog-table tr:hover {
            background-color: #e9ecef;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }

        .search-box {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 0.95em;
        }

        .search-input:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
        }

        .stats {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
            flex: 1;
        }

        .stat-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
        }

        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
        }

        .export-btn {
            margin-bottom: 15px;
            padding: 8px 15px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .export-btn:hover {
            background: #218838;
        }

        .stats-section {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

        .stats-section h2 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
}

        .stats-simple {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 10px;
    font-size: 0.95em;
}

        .stat-line {
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

        .stat-line:last-child {
    border-bottom: none;
}

        .stat-label {
    color: #666;
    display: flex;
    align-items: center;
    gap: 8px;
}

       .stat-value {
    font-weight: bold;
    color: #333;
    font-size: 1.1em;
}
                   
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h1>
            <div class="nav-buttons">
                <a href="/dashboard?user_login={{ username }}&user_role={{ user_role }}" class="btn btn-primary">
                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </a>
                <a href="/reports?user_login={{ username }}&user_role={{ user_role }}" class="btn btn-secondary">
                    üìä –ö –æ—Ç—á–µ—Ç–∞–º
                </a>
                <a href="/logout" class="btn btn-danger">üö™ –í—ã–π—Ç–∏</a>
            </div>
        </div>
                 <!-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ header –∏ –ø–µ—Ä–µ–¥ catalogs-container -->
        <div class="stats-section">
            <h2>üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
            <div class="stats-simple" id="stats-simple">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</div>
        </div>
        </div>
        <div class="catalogs-container">
            <div class="tabs">
                <button class="tab active" data-tab="enterprises">üè¢ –ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è</button>
                <button class="tab" data-tab="ministries">üèõÔ∏è –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞</button>
                <button class="tab" data-tab="industries">üè≠ –û—Ç—Ä–∞—Å–ª–∏</button>
                <button class="tab" data-tab="regions">üåç –û–±–ª–∞—Å—Ç–∏</button>
                <button class="tab" data-tab="districts">üìç –†–∞–π–æ–Ω—ã</button>
                <button class="tab" data-tab="services">üìã –í–∏–¥—ã —É—Å–ª—É–≥</button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π -->
            <div id="enterprises-tab" class="tab-content active">
                <h2>üè¢ –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è..." onkeyup="filterTable('enterprises-table', this.value, 1)">
                </div>
                <table class="catalog-table" id="enterprises-table">
                    <thead>
                        <tr>
                            <th width="80">–†–µ–≥. –Ω–æ–º–µ—Ä</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è</th>
                            <th>–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ</th>
                            <th>–û—Ç—Ä–∞—Å–ª—å</th>
                            <th>–û–±–ª–∞—Å—Ç—å</th>
                        </tr>
                    </thead>
                    <tbody id="enterprises-body">
                        <tr><td colspan="5" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤ -->
            <div id="ministries-tab" class="tab-content">
                <h2>üèõÔ∏è –°–ø–∏—Å–æ–∫ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞..." onkeyup="filterTable('ministries-table', this.value, 1)">
                </div>
                <table class="catalog-table" id="ministries-table">
                    <thead>
                        <tr>
                            <th width="100">–ö–æ–¥</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞</th>
                        </tr>
                    </thead>
                    <tbody id="ministries-body">
                        <tr><td colspan="2" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –æ—Ç—Ä–∞—Å–ª–µ–π -->
            <div id="industries-tab" class="tab-content">
                <h2>üè≠ –°–ø–∏—Å–æ–∫ –æ—Ç—Ä–∞—Å–ª–µ–π</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –æ—Ç—Ä–∞—Å–ª–∏..." onkeyup="filterTable('industries-table', this.value, 1)">
                </div>
                <table class="catalog-table" id="industries-table">
                    <thead>
                        <tr>
                            <th width="100">–ö–æ–¥</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ç—Ä–∞—Å–ª–∏</th>
                        </tr>
                    </thead>
                    <tbody id="industries-body">
                        <tr><td colspan="2" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –æ–±–ª–∞—Å—Ç–µ–π -->
            <div id="regions-tab" class="tab-content">
                <h2>üåç –°–ø–∏—Å–æ–∫ –æ–±–ª–∞—Å—Ç–µ–π</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –æ–±–ª–∞—Å—Ç–∏..." onkeyup="filterTable('regions-table', this.value, 1)">
                </div>
                <table class="catalog-table" id="regions-table">
                    <thead>
                        <tr>
                            <th width="100">–ö–æ–¥</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏</th>
                        </tr>
                    </thead>
                    <tbody id="regions-body">
                        <tr><td colspan="2" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–∞–π–æ–Ω–æ–≤ -->
            <div id="districts-tab" class="tab-content">
                <h2>üìç –°–ø–∏—Å–æ–∫ —Ä–∞–π–æ–Ω–æ–≤</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é —Ä–∞–π–æ–Ω–∞ –∏–ª–∏ –æ–±–ª–∞—Å—Ç–∏..." onkeyup="filterTable('districts-table', this.value, 1)">
                </div>
                <table class="catalog-table" id="districts-table">
                    <thead>
                        <tr>
                            <th width="100">–ö–æ–¥ —Ä–∞–π–æ–Ω–∞</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞</th>
                            <th>–û–±–ª–∞—Å—Ç—å</th>
                            <th width="100">–ö–æ–¥ –æ–±–ª–∞—Å—Ç–∏</th>
                        </tr>
                    </thead>
                    <tbody id="districts-body">
                        <tr><td colspan="4" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –≤–∏–¥–æ–≤ —É—Å–ª—É–≥ -->
            <div id="services-tab" class="tab-content">
                <h2>üìã –°–ø–∏—Å–æ–∫ –≤–∏–¥–æ–≤ —É—Å–ª—É–≥</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –≤–∏–¥–∞ —É—Å–ª—É–≥..." onkeyup="filterTable('services-table', this.value, 0)">
                </div>
                <table class="catalog-table" id="services-table">
                    <thead>
                        <tr>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–∏–¥–∞ —É—Å–ª—É–≥</th>
                        </tr>
                    </thead>
                    <tbody id="services-body">
                        <tr><td class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
        let currentTab = 'enterprises';

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName) {
    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
    document.querySelectorAll('.tab').forEach(button => {
        button.classList.remove('active');
    });
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
    document.getElementById(`${tabName}-tab`).classList.add('active');
    
    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
    const tabButton = document.querySelector(`.tab[data-tab="${tabName}"]`);
    if (tabButton) {
        tabButton.classList.add('active');
    }
    
    currentTab = tabName;
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
    loadTabData(tabName);
}


        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–∫–∏
        async function loadTabData(tabName) {
            const bodyElement = document.getElementById(`${tabName}-body`);
            
            // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–Ω–æ–≤–∞
            if (bodyElement.getAttribute('data-loaded') === 'true') {
                return;
            }

            try {
                const response = await fetch(`/api/catalogs/${tabName}`);
                const data = await response.json();

                if (data.success) {
                    renderTableData(tabName, data[tabName]);
                    bodyElement.setAttribute('data-loaded', 'true');
                } else {
                    bodyElement.innerHTML = `<tr><td colspan="10" class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${data.error}</td></tr>`;
                }
            } catch (error) {
                console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${tabName}:`, error);
                bodyElement.innerHTML = `<tr><td colspan="10" class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ${error.message}</td></tr>`;
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã
        function renderTableData(tabName, data) {
            const bodyElement = document.getElementById(`${tabName}-body`);
            
            if (!data || data.length === 0) {
                bodyElement.innerHTML = '<tr><td colspan="10" style="text-align: center; color: #6c757d;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>';
                return;
            }

            let html = '';

            switch (tabName) {
                case 'enterprises':
                    data.forEach(enterprise => {
                        html += `
                            <tr>
                                <td>${enterprise.reg_number}</td>
                                <td>${enterprise.name}</td>
                                <td>${enterprise.ministry_name}</td>
                                <td>${enterprise.industry_name}</td>
                                <td>${enterprise.region_name}</td>
                            </tr>
                        `;
                    });
                    break;

                case 'ministries':
                    data.forEach(ministry => {
                        html += `
                            <tr>
                                <td>${ministry.code}</td>
                                <td>${ministry.name}</td>
                            </tr>
                        `;
                    });
                    break;

                case 'industries':
                    data.forEach(industry => {
                        html += `
                            <tr>
                                <td>${industry.code}</td>
                                <td>${industry.name}</td>
                            </tr>
                        `;
                    });
                    break;

                case 'regions':
                    data.forEach(region => {
                        html += `
                            <tr>
                                <td>${region.code}</td>
                                <td>${region.name}</td>
                            </tr>
                        `;
                    });
                    break;

                case 'districts':
                    data.forEach(district => {
                        html += `
                            <tr>
                                <td>${district.code}</td>
                                <td>${district.name}</td>
                                <td>${district.region_name}</td>
                                <td>${district.region_code}</td>
                            </tr>
                        `;
                    });
                    break;

                case 'services':
                    data.forEach(service => {
                        html += `
                            <tr>
                                <td>${service.name}</td>
                            </tr>
                        `;
                    });
                    break;
            }

            bodyElement.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã
        function filterTable(tableId, searchText, searchColumnIndex) {
            const table = document.getElementById(tableId);
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const cell = rows[i].getElementsByTagName('td')[searchColumnIndex];
                if (cell) {
                    const text = cell.textContent || cell.innerText;
                    if (text.toLowerCase().indexOf(searchText.toLowerCase()) > -1) {
                        rows[i].style.display = '';
                    } else {
                        rows[i].style.display = 'none';
                    }
                }
            }
        }

                                                       // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadStats() {
    try {
        const response = await fetch('/api/catalogs/stats');
        const data = await response.json();

        if (data.success) {
            renderSimpleStats(data.stats);
        } else {
            document.getElementById('stats-simple').innerHTML = 
                '<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: ' + data.error + '</div>';
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
        document.getElementById('stats-simple').innerHTML = 
            '<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: ' + error.message + '</div>';
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function renderSimpleStats(stats) {
    const statsContainer = document.getElementById('stats-simple');
    
    const statsConfig = [
        {
            key: 'enterprises_count',
            label: 'üè¢ –ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π',
        },
        {
            key: 'ministries_count', 
            label: 'üèõÔ∏è –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤',
        },
        {
            key: 'industries_count',
            label: 'üè≠ –û—Ç—Ä–∞—Å–ª–µ–π',
        },
        {
            key: 'regions_count',
            label: 'üåç –û–±–ª–∞—Å—Ç–µ–π', 
        },
        {
            key: 'districts_count',
            label: 'üìç –†–∞–π–æ–Ω–æ–≤',
        },
        {
            key: 'services_count',
            label: 'üìã –í–∏–¥–æ–≤ —É—Å–ª—É–≥',
        }
    ];

    let html = '';
    
    statsConfig.forEach(stat => {
        const count = stats[stat.key] || 0;
        html += `
            <div class="stat-line">
                <span class="stat-label">${stat.label}</span>
                <span class="stat-value">${count}</span>
            </div>
        `;
    });

    statsContainer.innerHTML = html;
} 

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫
    document.querySelectorAll('.tab').forEach(button => {
        button.addEventListener('click', function() {
            const tabName = this.getAttribute('data-tab');
            switchTab(tabName);
        });
    });

    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    loadTabData(currentTab);

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    loadStats();

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    const isLoggedIn = localStorage.getItem('is_logged_in');
    if (isLoggedIn !== 'true') {
        window.location.href = '/login';
    }
});
    </script>
</body>
</html>